{"ast":null,"code":"var _jsxFileName = \"/Users/pauline/Documents/game_of_life/gameoflife/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { ButtonToolbar } from 'react-bootstrap';\n\nclass Box extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.selectBox = () => {\n      this.props.selectBox(this.props.rows, this.props.cols);\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: this.props.boxClass,\n      id: this.props.boxId,\n      onClick: this.selectBox,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13\n      },\n      __self: this\n    });\n  }\n\n}\n\nclass Grid extends React.Component {\n  render() {\n    const width = this.props.cols * 14;\n    var rowsArr = [];\n    var boxClass = \"\";\n\n    for (var i = 0; i < this.props.rows; i++) {\n      for (var j = 0; j < this.props.rows; j++) {\n        let boxId = i + \"_\" + j;\n        boxClass = this.props.gridFull[i][j] ? \"box on\" : \"box false\";\n        rowsArr.push(React.createElement(Box, {\n          boxClass: boxClass,\n          key: boxId,\n          boxId: boxId,\n          rows: i,\n          cols: j,\n          selectBox: this.props.selectBox,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }));\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: \"grid\",\n      style: {\n        width: width\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, rowsArr);\n  }\n\n}\n\nclass Buttons extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSelect = evt => {\n      this.props.gridSize(evt);\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(ButtonToolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-default\",\n      onClick: this.props.playButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Play\"), React.createElement(\"button\", {\n      className: \"btn btn-default\",\n      onClick: this.props.pauseButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Pause\"), React.createElement(\"button\", {\n      className: \"btn btn-default\",\n      onClick: this.props.clear,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Clear\"), React.createElement(\"button\", {\n      className: \"btn btn-default\",\n      onClick: this.props.slow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Slow\"), React.createElement(\"button\", {\n      className: \"btn btn-default\",\n      onClick: this.props.fast,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Fast\"), React.createElement(\"button\", {\n      className: \"btn btn-default\",\n      onClick: this.props.seed,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Seed\")));\n  }\n\n}\n\nclass Main extends React.Component {\n  constructor() {\n    super();\n\n    this.selectBox = (row, col) => {\n      let gridCopy = arrayClone(this.state.gridFull);\n      gridCopy[row][col] = !gridCopy[row][col];\n      this.setState({\n        gridFull: gridCopy\n      });\n    };\n\n    this.seed = () => {\n      let gridCopy = arrayClone(this.state.gridFull);\n\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j < this.cols; j++) {\n          if (Math.floor(Math.random() * 4) === 1) {\n            gridCopy[i][j] = true;\n          }\n        }\n      }\n\n      this.setState({\n        gridFull: gridCopy\n      });\n    };\n\n    this.playButton = () => {\n      clearInterval(this.intervalId);\n      this.intervalId = setInterval(this.play, this.speed);\n    };\n\n    this.pauseButton = () => {\n      clearInterval(this.intervalId);\n    };\n\n    this.slow = () => {\n      this.speed = 1000;\n      this.playButton();\n    };\n\n    this.fast = () => {\n      this.speed = 80;\n      this.playButton();\n    };\n\n    this.clear = () => {\n      var grid = Array(this.rows).fill().map(() => Array(this.cols).fill(false));\n      this.setState({\n        gridFull: grid,\n        generation: 0\n      });\n    };\n\n    this.play = () => {\n      let g = this.state.gridFull;\n      let g2 = arrayClone(this.state.gridFull);\n\n      for (let y = 0; y < this.rows; y++) {\n        for (let x = 0; x < this.cols; x++) {\n          let neighbors = this.calculateNeighbors(g, x, y);\n\n          if (g[y][x]) {\n            if (neighbors === 2 || neighbors === 3) {\n              g2[y][x] = true;\n            } else {\n              g2[y][x] = false;\n            }\n          } else {\n            if (!g[y][x] && neighbors === 3) {\n              g2[y][x] = true;\n            }\n          }\n        }\n      } // for (let i = 0; i < this.rows; i++) {\n      //   for (let j = 0; j < this.cols; j++) {\n      //     let count = 0;\n      //     if (i > 0) if (g[i - 1][j]) count++;\n      //     if (i > 0 && j > 0) if (g[i - 1][j - 1]) count++;\n      //     if (i > 0 && j < this.cols - 1) if (g[i - 1][j + 1]) count++;\n      //     if (j < this.cols - 1) if (g[i][j + 1]) count++;\n      //     if (j > 0) if (g[i][j - 1]) count++;\n      //     if (i < this.rows - 1) if (g[i + 1][j]) count++;\n      //     if (i < this.rows - 1 && j > 0) if (g[i + 1][j - 1]) count++;\n      //     if (i < this.rows - 1 && j < this.cols - 1) if (g[i + 1][j + 1]) count++;\n      //     if (g[i][j] && (count < 2 || count > 3)) g2[i][j] = false;\n      //     if (!g[i][j] && count === 3) g2[i][j] = true;\n      //   }\n      // }\n\n\n      this.setState({\n        gridFull: g2,\n        generation: this.state.generation + 1\n      });\n    };\n\n    this.speed = 80;\n    this.rows = 40;\n    this.cols = 50;\n    this.state = {\n      generation: 0,\n      gridFull: Array(this.rows).fill().map(() => Array(this.cols).fill(false))\n    };\n  }\n\n  calculateNeighbors(board, x, y) {\n    let neighbors = 0;\n    const dirs = [[-1, -1], [-1, 0], [-1, 1], [0, 1], [1, 1], [1, 0], [1, -1], [0, -1]];\n\n    for (let i = 0; i < dirs.length; i++) {\n      const dir = dirs[i];\n      let y1 = y + dir[0];\n      let x1 = x + dir[1];\n\n      if (x1 >= 0 && x1 < this.cols && y1 >= 0 && y1 < this.rows && board[y1][x1]) {\n        neighbors++;\n      }\n    }\n\n    return neighbors;\n  }\n\n  componentDidMount() {\n    this.seed();\n    this.playButton();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"The Game of Life\"), React.createElement(Buttons, {\n      playButton: this.playButton,\n      pauseButton: this.pauseButton,\n      slow: this.slow,\n      fast: this.fast,\n      clear: this.clear,\n      seed: this.seed,\n      gridSize: this.gridSize,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      gridFull: this.state.gridFull,\n      rows: this.rows,\n      cols: this.cols,\n      selectBox: this.selectBox,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"Generations : \", this.state.generation));\n  }\n\n}\n\nfunction arrayClone(arr) {\n  return JSON.parse(JSON.stringify(arr));\n}\n\nReactDOM.render(React.createElement(Main, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 240\n  },\n  __self: this\n}), document.getElementById('root'));","map":{"version":3,"sources":["/Users/pauline/Documents/game_of_life/gameoflife/src/index.js"],"names":["React","ReactDOM","ButtonToolbar","Box","Component","selectBox","props","rows","cols","render","boxClass","boxId","Grid","width","rowsArr","i","j","gridFull","push","Buttons","handleSelect","evt","gridSize","playButton","pauseButton","clear","slow","fast","seed","Main","constructor","row","col","gridCopy","arrayClone","state","setState","Math","floor","random","clearInterval","intervalId","setInterval","play","speed","grid","Array","fill","map","generation","g","g2","y","x","neighbors","calculateNeighbors","board","dirs","length","dir","y1","x1","componentDidMount","arr","JSON","parse","stringify","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport { ButtonToolbar } from 'react-bootstrap';\n\nclass Box extends React.Component {\n    selectBox = () => {\n        this.props.selectBox(this.props.rows, this.props.cols);\n    }\n    render () {\n        return (\n            <div\n                className={this.props.boxClass}\n                id={this.props.boxId}\n                onClick={this.selectBox}\n            />\n        )\n    }\n}\nclass Grid extends React.Component {\n    render () {\n        const width = this.props.cols * 14;\n        var rowsArr = [];\n        var boxClass = \"\";\n\n        for (var i = 0; i < this.props.rows; i++) {\n            for (var j = 0; j < this.props.rows; j++) {\n                let boxId = i + \"_\" + j;\n                boxClass = this.props.gridFull[i][j] ? \"box on\" : \"box false\";\n                rowsArr.push(\n                    <Box\n                        boxClass={boxClass}\n                        key={boxId}\n                        boxId={boxId}\n                        rows={i}\n                        cols={j}\n                        selectBox={this.props.selectBox}\n                    />\n                )\n            }\n        }\n\n        return (\n            <div className=\"grid\" style={{width: width}}>\n                {rowsArr}\n            </div>\n        )\n    }\n}\n\nclass Buttons extends React.Component {\n    handleSelect = (evt) => {\n        this.props.gridSize(evt); \n    }\n\n    render() {\n        return (\n            <div className=\"center\">\n                <ButtonToolbar>\n                    <button className=\"btn btn-default\" onClick={this.props.playButton}>\n                        Play\n                    </button>\n                    <button className=\"btn btn-default\" onClick={this.props.pauseButton}>\n                        Pause\n                    </button>\n                    <button className=\"btn btn-default\" onClick={this.props.clear}>\n                        Clear\n                    </button>\n                    <button className=\"btn btn-default\" onClick={this.props.slow}>\n                        Slow\n                    </button>\n                    <button className=\"btn btn-default\" onClick={this.props.fast}>\n                        Fast\n                    </button>\n                    <button className=\"btn btn-default\" onClick={this.props.seed}>\n                        Seed\n                    </button>\n                </ButtonToolbar>\n            </div>\n        )\n    }\n}\n\nclass Main extends React.Component {\n    constructor () {\n        super();\n        this.speed = 80;\n        this.rows = 40;\n        this.cols = 50;\n        this.state = {\n            generation: 0,\n            gridFull: Array(this.rows).fill().map(() => Array(this.cols).fill(false)),\n        }\n    }\n\n    selectBox = (row, col) => {\n        let gridCopy =  arrayClone(this.state.gridFull);\n        gridCopy[row][col] = !gridCopy[row][col];\n        this.setState({\n            gridFull: gridCopy\n        })\n    }\n\n    seed = () => {\n        let gridCopy =  arrayClone(this.state.gridFull);\n        for (let i = 0; i < this.rows; i++) {\n            for (let j = 0; j < this.cols; j++) {\n                if (Math.floor(Math.random() * 4) === 1) {\n                    gridCopy[i][j] = true;\n                }\n\n            }\n        }\n        this.setState({\n            gridFull: gridCopy\n        })\n    }\n\n    playButton = () => {\n        clearInterval(this.intervalId);\n        this.intervalId = setInterval(this.play, this.speed);\n    }\n\n    pauseButton = () => {\n        clearInterval(this.intervalId);\n    }\n\n    slow = () => {\n        this.speed = 1000;\n        this.playButton();\n    }\n\n    fast = () => {\n        this.speed = 80;\n        this.playButton();\n    }\n\n    clear = () => {\n        var grid = Array(this.rows).fill().map(() => Array(this.cols).fill(false));\n        this.setState({\n            gridFull: grid,\n            generation: 0 \n        }); \n    }\n\n    calculateNeighbors(board, x, y) {\n        let neighbors = 0;\n        const dirs = [[-1, -1], [-1, 0], [-1, 1], [0, 1], [1, 1], [1, 0], [1, -1], [0, -1]];\n        for (let i = 0; i < dirs.length; i++) {\n            const dir = dirs[i];\n            let y1 = y + dir[0];\n            let x1 = x + dir[1];\n\n            if (x1 >= 0 && x1 < this.cols && y1 >= 0 && y1 < this.rows && board[y1][x1]) {\n                neighbors++;\n            }\n        }\n\n        return neighbors;\n    }\n\n    play = () => {\n\t\tlet g = this.state.gridFull;\n\t\tlet g2 = arrayClone(this.state.gridFull);\n\n        for (let y = 0; y < this.rows; y++) {  \n            for (let x = 0; x < this.cols; x++) {    \n                let neighbors = this.calculateNeighbors(g, x, y);    \n                if (g[y][x]) {      \n                    if (neighbors === 2 || neighbors === 3) {        \n                        g2[y][x] = true;     \n                    } else {        \n                        g2[y][x] = false;\n                    }    \n                } else {      \n                    if (!g[y][x] && neighbors === 3) {        \n                        g2[y][x] = true;      \n                    }    \n                }  \n            }\n        }\n\n\t\t// for (let i = 0; i < this.rows; i++) {\n\t\t//   for (let j = 0; j < this.cols; j++) {\n\t\t//     let count = 0;\n\t\t//     if (i > 0) if (g[i - 1][j]) count++;\n\t\t//     if (i > 0 && j > 0) if (g[i - 1][j - 1]) count++;\n\t\t//     if (i > 0 && j < this.cols - 1) if (g[i - 1][j + 1]) count++;\n\t\t//     if (j < this.cols - 1) if (g[i][j + 1]) count++;\n\t\t//     if (j > 0) if (g[i][j - 1]) count++;\n\t\t//     if (i < this.rows - 1) if (g[i + 1][j]) count++;\n\t\t//     if (i < this.rows - 1 && j > 0) if (g[i + 1][j - 1]) count++;\n\t\t//     if (i < this.rows - 1 && j < this.cols - 1) if (g[i + 1][j + 1]) count++;\n\t\t//     if (g[i][j] && (count < 2 || count > 3)) g2[i][j] = false;\n\t\t//     if (!g[i][j] && count === 3) g2[i][j] = true;\n\t\t//   }\n\t\t// }\n\t\tthis.setState({\n\t\t  gridFull: g2,\n\t\t  generation: this.state.generation + 1\n\t\t});\n\n\t}\n\n    componentDidMount() {\n        this.seed();\n        this.playButton();\n    }\n\n    render () {\n        return (\n            <div>\n                <h1>The Game of Life</h1>\n                <Buttons\n                    playButton={this.playButton}\n                    pauseButton={this.pauseButton}\n                    slow={this.slow}\n                    fast={this.fast}\n                    clear={this.clear}\n                    seed={this.seed}\n                    gridSize={this.gridSize}\n                />\n                <Grid \n                    gridFull={this.state.gridFull}\n                    rows={this.rows}\n                    cols={this.cols}\n                    selectBox={this.selectBox}\n                />\n                <h2>Generations : {this.state.generation}</h2>\n            </div>\n        )\n    }\n}\n\nfunction arrayClone(arr) {\n    return JSON.parse(JSON.stringify(arr));\n}\n\nReactDOM.render(<Main />, document.getElementById('root'));\n  "]},"metadata":{},"sourceType":"module"}